<!--
  Generated template for the CheckoutPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Checkout</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-segment [(ngModel)]="tab" (ionChange)="onTabChanged($event)">
    <ion-segment-button value="location">
      Địa chỉ
    </ion-segment-button>
    <ion-segment-button value="orderInfo">
      Thông tin
    </ion-segment-button>
  </ion-segment>
  

  <div [ngSwitch]="tab">
    <div *ngSwitchCase="'location'">
      <ion-searchbar #searchbar></ion-searchbar>
      <sebm-google-map #googleMap id="google-map"
        [latitude]="mapConfig.position.lat" 
        [longitude]="mapConfig.position.lng"
        [zoom]="mapConfig.zoom">
        <sebm-google-map-marker
          [latitude]="mapConfig.position.lat" 
          [longitude]="mapConfig.position.lng" 
          [iconUrl]="mapConfig.markerIcon"
          >
        </sebm-google-map-marker>
      </sebm-google-map>
      <form [formGroup]="frmAddress"><ion-list>
        <ion-item>
          <ion-label floating>Địa chỉ</ion-label>
          <ion-input formControlName="address" type="text" readonly></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating>Khu vực</ion-label>
          <ion-input formControlName="area" type="text" readonly></ion-input>
        </ion-item>
      </ion-list></form>
      
    </div>
    <div *ngSwitchCase="'orderInfo'">
      <ion-list>
        <ion-item-divider color="light">Sản phẩm <ion-badge color="secondary" item-end>99</ion-badge></ion-item-divider>
        <ion-item *ngFor="let p of baskets">
          <ion-label>
            <h2>{{p.title}}</h2>
            <p>Size:</p>
            <p>Topping:</p>
          </ion-label>
          <ion-note item-end>{{p.price | accounting}}</ion-note>
          <ion-badge color="secondary" item-end>{{p.quantity}}</ion-badge>
        </ion-item>
        <ion-item-divider color="light">Thông tin thanh toán </ion-item-divider>
        <ion-item>
          <ion-label fixed style="min-width: 120px;">Mã khuyến mãi</ion-label>
          <ion-input text-right type="text" value=""></ion-input>
        </ion-item>
        <ion-item>
          <ion-label><h2>Khuyến mãi</h2></ion-label>
          <ion-note item-end>{{'5000' | accounting}}</ion-note>
        </ion-item>
        <ion-item>
          <ion-label><h2>Tổng tiền</h2></ion-label>
          <ion-note item-end>{{'100000' | accounting}}</ion-note>
        </ion-item>
      </ion-list>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons end>
      <button ion-button clear item-end icon-right (tap)="nextStep()">
        {{nextStepButtonTitle}}
        <ion-icon name="arrow-forward"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
